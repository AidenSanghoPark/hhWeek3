# API 명세서

## 1️⃣ 잔액 충전 / 조회 API

### 1.1 잔액 충전

- **엔드포인트**: `POST /api/wallet/recharge`
- **요청 방식**: POST
- **요청 본문**:
    ```json
    {
        "userId": 1,
        "amount": 100.00
    }
    ```
- **응답**:
    - **상태 코드**: 200 OK
    - **응답 본문**:
    ```json
    {
        "message": "잔액이 성공적으로 충전되었습니다.",
        "balance": 150.00
    }
    ```
- **오류 응답**:
    - **상태 코드**: 400 Bad Request
    - **응답 본문**:
    ```json
    {
        "error": "충전할 금액은 0보다 커야 합니다."
    }
    ```

### 1.2 잔액 조회

- **엔드포인트**: `GET /api/wallet/balance/{userId}`
- **요청 방식**: GET
- **응답**:
    - **상태 코드**: 200 OK
    - **응답 본문**:
    ```json
    {
        "userId": 1,
        "balance": 150.00
    }
    ```
- **오류 응답**:
    - **상태 코드**: 404 Not Found
    - **응답 본문**:
    ```json
    {
        "error": "사용자를 찾을 수 없습니다."
    }
    ```

---

## 2️⃣ 상품 조회 API

### 2.1 상품 조회

- **엔드포인트**: `GET /api/products`
- **요청 방식**: GET
- **응답**:
    - **상태 코드**: 200 OK
    - **응답 본문**:
    ```json
    [
        {
            "id": 1,
            "name": "상품 A",
            "price": 100.00,
            "stock": 10
        },
        {
            "id": 2,
            "name": "상품 B",
            "price": 200.00,
            "stock": 5
        }
    ]
    ```

---

## 3️⃣ 주문 / 결제 API

### 3.1 주문 및 결제

- **엔드포인트**: `POST /api/mock/createOrder`
- **요청 방식**: POST
- **요청 본문**:
    ```json
    {
        "userId": 1,
        "items": [
            {
                "productId": 1,
                "quantity": 2
            },
            {
                "productId": 2,
                "quantity": 1
            }
        ]
    } 
    ```
- **응답**:
  - **상태 코드**: 200 OK 
  - **응답 본문**:
    ```json
    {
        "message": "주문이 성공적으로 완료되었습니다.",
        "remainingBalance": 50.00
    }
    ```
- **오류 응답**:
  - **상태 코드**: 400 Bad Request
  - **오류 응답 1**:
    - **응답 본문**:
      ```json
      {
          "error": "사용자를 찾을 수 없습니다."
      }
      ```
  - **오류 응답 2**:
    - **응답 본문**:
      ```json
      {
          "error": "잔액이 부족합니다."
      }
      ```

---

## 4️⃣ 상위 상품 조회 API

### 4.1 인기 상품 조회

- **엔드포인트**: `GET /api/products/top-sellers`
- **요청 방식**: GET
- **응답**:
    - **상태 코드**: 200 OK
    - **응답 본문**:
    ```json
    [
        {
            "id": 1,
            "name": "상품 A",
            "sales": 100
        },
        {
            "id": 2,
            "name": "상품 B",
            "sales": 80
        }
    ]
    ```

---

## 5️⃣ 장바구니 기능 (심화 과제)

### 5.1 장바구니에 상품 추가

- **엔드포인트**: `POST /api/cart/add`
- **요청 방식**: POST
- **요청 본문**:
    ```json
    {
        "userId": 1,
        "productId": 1,
        "quantity": 1
    }
    ```
- **오류 응답**:
  - **상태 코드**: 400 Bad Request
  - **응답 본문**:
    ```json
    {
        "error": "유효하지 않은 상품 또는 사용자입니다."
    }
    ```
- **응답**:
    - **상태 코드**: 200 OK
    - **응답 본문**:
    ```json
    {
        "message": "장바구니에 상품이 추가되었습니다."
    }
    ```
- **오류 응답**:
  - **상태 코드**: 400 Bad Request
  - **응답 본문**:
    ```json
    {
        "error": "유효하지 않은 상품 또는 사용자입니다."
    }
    ```
### 5.2 장바구니 조회

- **엔드포인트**: `GET /api/cart/{userId}`
- **요청 방식**: GET
- **응답**:
    - **상태 코드**: 200 OK
    - **응답 본문**:
    ```json
    [
        {
            "productId": 1,
            "quantity": 1
        },
        {
            "productId": 2,
            "quantity": 2
        }
    ]
    ```
  - **오류 응답**:
  - **상태 코드**: 400 Bad Request
  - **응답 본문**:
    ```json
    {
        "error": "유효하지 않은 상품 또는 사용자입니다."
    }
    ```
### 5.3 장바구니에서 상품 삭제

- **엔드포인트**: `DELETE /api/cart/remove`
- **요청 방식**: DELETE
- **요청 본문**:
    ```json
    {
        "userId": 1,
        "productId": 1
    }
    ```
- **응답**:
    - **상태 코드**: 200 OK
    - **응답 본문**:
    ```json
    {
        "message": "장바구니에서 상품이 삭제되었습니다."
    }
    ```
- **오류 응답**:
  - **상태 코드**: 400 Bad Request
  - **응답 본문**:
    ```json
    {
        "error": "유효하지 않은 상품 또는 사용자입니다."
    }
    ```
